{% extends "base/base.html" %}
{% load static %}



{% block title %} Payment {% endblock title %}

{% block SeperateCssFile %}
    <link rel="stylesheet" href="{% static 'css/payment.css' %}">
{% endblock SeperateCssFile %}




{% block body %}
<div class="dropdown-container">
    <button id="btnOldReceipts">ðŸ“œ Receipts History</button>
    <button id="btnCustomerReceipts">ðŸ“… Receipts Date-Wise</button>
</div>


<form method='post' id="receiptForm">
    {% csrf_token %}
    <h2><span class="paymet-icon">ðŸ’³</span> Receipt</h2>
    
    <!-- top row: date + party -->
    <div class="form-row">
        <div class="form-group">
            <label for="receipt_date">Receipt Date</label>
            <input type="date" id="receipt_date" name="receipt_date" value="{{receipt_date}}" required>
        </div>

        <div class="form-group autocomplete-container">
            <label for="search_name">Party Name:</label>
            <input type="text" id="search_name" name="search_name"
                   placeholder="Enter Party Name"
                   autocomplete="off"
                   data-autocomplete-url="{% url 'parties:autocomplete_party' %}"
                   value="{{party_name}}">
            <div id="suggestions"></div>
        </div>
    </div>

    <!-- stacked fields -->
    <div class="form-group">
        <label for="amount">Amount</label>
        <input type="number" id="amount" name="amount" placeholder="Enter Amount" value="{{amount}}" required>
    </div>

    <div class="form-group">
        <label for="method">Method</label>
        <input type="text" id="method" name="method" value="Cash" readonly>
    </div>

    <div class="form-group">
        <label for="description">Description</label>
        <textarea id="description" name="description" placeholder="Enter Description">{{description}}</textarea>
    </div>

    
    <div class="btn-row">
        <button type="submit" name="action" value="submit" class="save-and-update-btn">
            <i class="fa-solid fa-floppy-disk"></i>  Save Receipt
        </button>
        
        <button type="submit" name="action" value="delete" class="delete-btn">
            <i class="fa-solid fa-trash"></i>  Delete
        </button>
    </div>
    

</form>


<input type="hidden" id="current_receipt_id" name="current_id" value="{{receipt_id}}" form="receiptForm">

<div class="button-group">
    <button type="button" onclick="navigateReceipt('previous')"><i class="fa-solid fa-arrow-left"></i> Previous</button>
    <button type="button" onclick="navigateReceipt('next')">Next <i class="fa-solid fa-arrow-right"></i></button>
</div>


<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="{% static 'js/receipts_page.js' %}"></script>


{% endblock body %}

