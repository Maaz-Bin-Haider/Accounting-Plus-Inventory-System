{% extends 'base/base.html' %}
{% load static %}

{% block title %}Create Purchase{% endblock title %}

{% block SeperateCssFile %}
<link rel="stylesheet" href="{% static 'css/purchasing_styling.css' %}">
{% endblock SeperateCssFile %}

{% block body %}

  <h2>ðŸ›’ Create Purchase</h2>
  <form onsubmit="buildAndSubmit(event)">
    {% comment %} <div class="party-name">
      <label for="party_name">Party:</label>
      <input type="text" id="party_name" name="party_name" placeholder="Enter party name" required>
    </div> {% endcomment %}
    <div class="party-name autocomplete-container">
        <label for="search_name">Party Name:</label>
        <input type="text" id="search_name" name="search_name" placeholder="Enter Party Name" autocomplete="off" data-autocomplete-url="{% url 'parties:autocomplete_party' %}" required>
        <div id="suggestions" ></div>
    </div>

    <div class="invoice-date">
      <label for="purchase_date">Purchase Date:</label>
      <input type="date" id="purchase_date" name="purchase_date">
    </div>

    <div class="items-comtainer">
      <h3>Items</h3>
      <div id="items"></div>
      <button type="button" class="custom-btn add-item" onclick="addItemRow()">+ Add Item</button>
    </div>

    <div id="totalBox">Total Invoice Amount: <span id="totalAmount">0.00</span></div>

    <div class="actions">
      <button type="submit" class="custom-btn">Create Purchase</button>
    </div>
  </form>
</div>
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="{% static 'js/purchasing_script.js' %}"></script>
{% endblock body %}
