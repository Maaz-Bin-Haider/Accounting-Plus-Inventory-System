{% extends 'base/base.html' %}
{% load static %}

{% block title %}Stock Reports{% endblock title %}

{% block SeperateCssFile %}
<link rel="stylesheet" href="{% static 'css/stock_reports.css' %}">
{% endblock SeperateCssFile %}

{% block body %}
<div class="reports-wrapper">
  <!-- Left Panel -->
  <aside class="left-panel">
    <h3>ðŸ“¦ Stock Reports</h3>
    <div class="report-buttons">
      <button class="report-btn" id="btn-stock" onclick="selectReport('stock')">Stock Report</button>
      <button class="report-btn" id="btn-worth" onclick="selectReport('worth')">Stock Worth Report</button>
      <button class="report-btn active" id="btn-history" onclick="selectReport('history')">Item History</button>
    </div>
  </aside>

  <!-- Right Content -->
  <section class="right-panel">
    <!-- Filters & Forms -->
    <div id="report-form-container" class="form-section"></div>

    <!-- Table Action -->
    <div class="table-actions">
      <button id="download_pdf" class="btn-download">Download PDF</button>
    </div>

    <!-- Result Table -->
    <div class="table-container">
      <table id="reportTable">
        <thead id="reportHeader"></thead>
        <tbody id="reportBody">
          <tr><td class="no-data">Select a report to view results</td></tr>
        </tbody>
      </table>
    </div>
  </section>
</div>

<!-- Dependencies -->
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.28/jspdf.plugin.autotable.min.js"></script>

<script>
  window.ITEM_AUTOCOMPLETE_URL = "{% url 'items:autocomplete_item' %}";
</script>

<script src="{% static 'js/stock_reports.js' %}"></script>
{% endblock body %}
